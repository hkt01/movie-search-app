(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{31:function(e,t,a){e.exports=a(47)},36:function(e,t,a){},37:function(e,t,a){},44:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),c=a.n(r),o=(a(36),a(13)),i=a(12),u=(a(37),a(38),a(8)),m=a(17),s=a(10),h=a(19),E=a(30),f=a(14),v=a(11);function b(e){var t=e.movie;return l.a.createElement(s.a,{className:"movieRow"},l.a.createElement(v.a,{className:"col-4"},l.a.createElement("img",{src:t.Poster,alt:t.Title})),l.a.createElement(v.a,null,l.a.createElement("h4",null,t.Title),l.a.createElement("span",null,t.Year),l.a.createElement(o.b,{to:"/movie/"+t.imdbID,className:"block"},"See details and reviews")))}a(44);var p=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1];function c(){r(!0)}return Object(n.useEffect)((function(){var e=setTimeout(c,250);return function(){clearTimeout(e)}})),a?l.a.createElement("div",{className:"loader"},"Loading..."):null};var d=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(u.a)(c,2),i=o[0],v=o[1],d=Object(n.useState)(null),g=Object(u.a)(d,2),j=g[0],O=g[1],w=l.a.createRef();function N(e){e.preventDefault();var t,a=w.current.value;t=a,v(!0),fetch("http://localhost:8000/movies?search="+t).then((function(e){return e.json()})).then((function(e){r(e),v(!1)})).catch((function(e){console.log(e),v(!1),O(JSON.stringify(e))}))}return l.a.createElement(m.a,{className:"homeContainer"},l.a.createElement(s.a,null,l.a.createElement("h3",null,"What would you like to see?")),l.a.createElement(s.a,null,l.a.createElement(h.a,{onSubmit:N},l.a.createElement(h.a.Group,{as:s.a,controlId:"search",className:"searchRow"},l.a.createElement(h.a.Control,{type:"text",ref:w}),l.a.createElement(E.a,{type:"submit",varian:"primary",onClick:N},"Search")))),a&&l.a.createElement("div",{className:"searchResults"},a.length>0?a.map((function(e,t){return l.a.createElement(b,{movie:e,key:t})})):l.a.createElement(f.a,{variant:"warning"},"No movies found with that query! Maybe try something different?")),i&&l.a.createElement(p,null),j&&l.a.createElement(f.a,{variant:"danger"},j))};function g(e){var t=e.review;return l.a.createElement(s.a,{className:"reviewRow"},t.multimedia&&l.a.createElement(v.a,{className:"col-4"},l.a.createElement("img",{src:t.multimedia.src,alt:t.multimedia.type})),l.a.createElement(v.a,null,l.a.createElement("h4",null,t.headline),l.a.createElement("span",{className:"author"},"By ",t.byline),l.a.createElement("span",null,t.publication_date),l.a.createElement("p",null,t.summary_short),l.a.createElement("a",{href:t.link.url,target:"_blank",rel:"noopener noreferrer"},t.link.suggested_link_text)))}var j=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(null),h=Object(u.a)(o,2),E=h[0],b=h[1],d=Object(n.useState)(!0),j=Object(u.a)(d,2),O=j[0],w=j[1],N=Object(n.useState)(!0),y=Object(u.a)(N,2),S=y[0],k=y[1],R=Object(n.useState)(null),T=Object(u.a)(R,2),x=T[0],J=T[1],_=Object(i.f)();return Object(n.useEffect)((function(){var t=e.match.params.title;if(!t)return _.push("/"),null;!function(e){fetch("http://localhost:8000/movies/"+e).then((function(e){return e.json()})).then((function(e){!function(e){fetch("http://localhost:8000/reviews?search="+e).then((function(e){return e.json()})).then((function(e){b(e.results),k(!1)})).catch((function(e){console.log(e),k(!1),J(JSON.stringify(e))}))}(e.Title),c(e),w(!1)})).catch((function(e){console.log(e),w(!1),J(JSON.stringify(e))}))}(t)}),[e,_]),l.a.createElement(m.a,{className:"movieContainer"},r&&l.a.createElement(s.a,null,l.a.createElement(v.a,{className:"col-4"},l.a.createElement("img",{src:r.Poster,alt:r.Title})),l.a.createElement(v.a,null,l.a.createElement("h3",null,r.Title),l.a.createElement("span",null,r.Year),l.a.createElement("p",null,r.Plot),E&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Reviews:"),E.length>0&&E.map((function(e,t){return l.a.createElement(g,{review:e,key:t})})),0===E.length&&l.a.createElement(s.a,{className:"reviewRow"},l.a.createElement("span",null,"No reviews found!"))),S&&l.a.createElement(p,null))),O&&l.a.createElement(p,null),x&&l.a.createElement(f.a,{variant:"danger"},x))};var O=function(){return l.a.createElement(o.a,null,l.a.createElement("header",{className:"App-header text-center"},l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},l.a.createElement("a",{href:"/",className:"navbar-brand"},"Movie Search App"))),l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/movie/:title",component:j}),l.a.createElement(i.a,{path:"/",component:d})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.af9a6a6a.chunk.js.map